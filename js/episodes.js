var episodeType = ["resourceType","combatType", "medicalType" , "scienceType", "respiteType"]; //add

function episodeConstruct (title, oPicture, opAtt, oiAtt, oDecscip, orPass, orPos, orNeg, oAns1, oAns2, oAns3, oAns4, oAns5, pt1Picture, pt1pAtt, pt1iAtt, pt1Decscip, pt1rPass, pt1rPos, pt1rNeg, pt1Ans1, pt1Ans2, pt1Ans3, pt1Ans4, pt1Ans5, pt2Picture, pt2pAtt, pt1iAtt, pt2Decscip, pt2rPass, pt2rPos, pt2rNeg, pt2Ans1, pt2Ans2, pt2Ans3, pt2Ans4, pt2Ans5, fPicture, fpAtt, pt1iAtt, fDecscip, frPass, frPos, frNeg, fAns1, fAns2, fAns3, fAns4, fAns5, wPicture, wpAtt, pt1iAtt, wDecscip, wrPass, wrPos, wrNeg, wAns1, wAns2, wAns3, wAns4, wAns5){
    this.problemTitle = title;
    this.originPlot = plotConstruct(oPicture, opAtt, oiAtt, oDecscip, orPass, orPos, orNeg, oAns1, oAns2, oAns3, oAns4, oAns5);
    this.plotTwistOne = plotConstruct(pt1Picture, pt1pAtt, pt1iAtt, pt1Decscip, pt1rPass, pt1rPos, pt1rNeg, pt1Ans1, pt1Ans2, pt1Ans3, pt1Ans4, pt1Ans5);
    this.plotTwistTwo = plotConstruct(pt2Picture, pt2pAtt, pt1iAtt, pt2Decscip, pt2rPass, pt2rPos, pt2rNeg, pt2Ans1, pt2Ans2, pt2Ans3, pt2Ans4, pt2Ans5);
    this.failure = plotConstruct(fPicture, fpAtt, pt1iAtt, fDecscip, frPass, frPos, frNeg, fAns1, fAns2, fAns3, fAns4, fAns5);
    this.winner = plotConstruct(wPicture, wpAtt, pt1iAtt, wDecscip, wrPass, wrPos, wrNeg, wAns1, wAns2, wAns3, wAns4, wAns5);
}
function plotConstruct (picture, pAttribute, iAttribute, description, rPass, rPossitive, rNegative,answer1, answer2, answer3, answer4, answer5){
    this.problemPicture = picture;
    this.problemAttribute = pAttribute;
    this.immediateAttribute = iAttribute;
    this.problemDescription = description;
    this.resultPass = rPass;
    this.resultPossitive = rPossitive;
    this.resultNegative = rNegative;
    this.problemAnswer[0] = answer1;
    this.problemAnswer[1] =answer2;
    this.problemAnswer[2] =answer3;
    this.problemAnswer[3] =answer4;
    this.problemAnswer[4] =answer5;
}

//   Logic
//1 checks if the selection was to skip episode.
//2 immediate attribute in origin plot is applied only if skipped.
//3 checks for winner state: changes type, state to origin, fills, and break
//4 checks if successful
//5 success, changes attribute
//6 success, apply result positive
//7 success, change to winner state, and break
//8 fail, checks if selection result is failure
//9 if failure,applies attributes as negative
//10 if not failure state, applies falure text
//11 nfs, changes state to match selection
//12 nfs, applies negative immediate attribute of new state.


var resourceType = {problemTitle:["Space Resources"],
    originPlot:{problemPicture: "alientrader.jpg", problemAttribute: [5, "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [20,"allShipAttribute"] ,problemDescription: ["randomName", " is an alien " , "randomJob" , " from the " , "randomRace" , " race.  He offers your crew the coordinates of a rare " , "randomItem", " which could greatly improve your ships warp speed.  However, he says he is only willing to negotiate with " , "firstMateName" , ". As captain your concerned about this alien's motivations and the considerable risk to your First-mate."], resultPass:"Your ship began to jump into warp just as the 'Trader' opened fire. Your shields took most of the brunt, but your got away with only minor additional damage.", resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "failure","nextEpisode", "nextEpisode"], failureText:"bummer", problemAnswer:[["My name IS !!!...", "captainName",".... -with a wry smile-"], "choose this one",["securityName",", arm the photons. This may be a gamble, but im guessing we can take that information by force!"],"Quick! Ensign lay in any heading and engage to warp 6. This 'Trader' is lying. He is looking to take our vessel by force!",""]},
    plotTwistOne:{problemPicture: "sickbayone.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"speedAttribute"] ,problemDescription: ["randomItem", "s.... 'we need em!"], resultPossitive:"You have the space dust!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure" ,"failure"], failureText:"bummer", problemAnswer:[["passivo: 'who cares!' blurts out captain ", "captainName"], "neutralo","aggressivo", "choose this one",""]},
    plotTwistTwo:{problemPicture: "allcrew.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"allShipAttribute"] ,problemDescription: ["The " ,"randomItem","! I must have it."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["choose this one", "neutralo","aggressivo","",""]},
    failure:{problemPicture: "shipexplosion.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"weaponAttribute"] ,problemDescription: ["Your ship has blown up."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["End game.","","","",""]},
    winner:{problemPicture: "shiptravel.jpg", problemAttribute: [50,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"firstMateAttribute"] ,problemDescription: ["Awesome!"], resultPossitive:"winner!", resultNegative:["resourceType", "combatType", "medicalType", "scienceType","respiteType"], problemAnswer:["We must find more resources, and soon...","Ensign, set our course for home. Warp 8.","We have too many injured crewmen... all staff report to sick bay!","Sensors show a sub-space rift forming? lay in a course, maybe we will get home sooner than we think.",["securityName",", find me a M-class planet where we can land for repairs."]]}
};

var combatType = {problemTitle:["Bang bang."],
    originPlot:{problemPicture: "alientrader.jpg", problemAttribute: [5, "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [20,"allShipAttribute"] ,problemDescription: ["randomName", " is an alien " , "randomJob" , " from the " , "randomRace" , " race.  He offers your crew the coordinates of a rare " , "randomItem", " which could greatly improve your ships warp speed.  However, he says he is only willing to negotiate with " , "firstMateName" , ". As captain your concerned about this alien's motivations and the considerable risk to your First-mate."], resultPass:"Your ship began to jump into warp just as the 'Trader' opened fire. Your shields took most of the brunt, but your got away with only minor additional damage.", resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "failure","nextEpisode", "nextEpisode"], failureText:"bummer", problemAnswer:[["My name IS !!!...", "captainName",".... -with a wry smile-"], "choose this one",["securityName",", arm the photons. This may be a gamble, but im guessing we can take that information by force!"],"Quick! Ensign lay in any heading and engage to warp 6. This 'Trader' is lying. He is looking to take our vessel by force!",""]},
    plotTwistOne:{problemPicture: "sickbayone.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"speedAttribute"] ,problemDescription: ["randomItem", "s.... 'we need em!"], resultPossitive:"You have the space dust!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure" ,"failure"], failureText:"bummer", problemAnswer:[["passivo: 'who cares!' blurts out captain ", "captainName"], "neutralo","aggressivo", "choose this one",""]},
    plotTwistTwo:{problemPicture: "allcrew.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"allShipAttribute"] ,problemDescription: ["The " ,"randomItem","! I must have it."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["choose this one", "neutralo","aggressivo","",""]},
    failure:{problemPicture: "shipexplosion.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"weaponAttribute"] ,problemDescription: ["Your ship has blown up."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["End game.","","","",""]},
    winner:{problemPicture: "shiptravel.jpg", problemAttribute: [50,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"firstMateAttribute"] ,problemDescription: ["Awesome!"], resultPossitive:"winner!", resultNegative:["resourceType", "combatType", "medicalType", "scienceType","respiteType"], problemAnswer:["We must find more resources, and soon...","Ensign, set our course for home. Warp 8.","We have too many injured crewmen... all staff report to sick bay!","Sensors show a sub-space rift forming? lay in a course, maybe we will get home sooner than we think.",["securityName",", find me a M-class planet where we can land for repairs."]]}
};

var medicalType = {problemTitle:["Medical Emergency!"],
    originPlot:{problemPicture: "alientrader.jpg", problemAttribute: [5, "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [20,"allShipAttribute"] ,problemDescription: ["randomName", " is an alien " , "randomJob" , " from the " , "randomRace" , " race.  He offers your crew the coordinates of a rare " , "randomItem", " which could greatly improve your ships warp speed.  However, he says he is only willing to negotiate with " , "firstMateName" , ". As captain your concerned about this alien's motivations and the considerable risk to your First-mate."], resultPass:"Your ship began to jump into warp just as the 'Trader' opened fire. Your shields took most of the brunt, but your got away with only minor additional damage.", resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "failure","nextEpisode", "nextEpisode"], failureText:"bummer", problemAnswer:[["My name IS !!!...", "captainName",".... -with a wry smile-"], "choose this one",["securityName",", arm the photons. This may be a gamble, but im guessing we can take that information by force!"],"Quick! Ensign lay in any heading and engage to warp 6. This 'Trader' is lying. He is looking to take our vessel by force!",""]},
    plotTwistOne:{problemPicture: "sickbayone.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"speedAttribute"] ,problemDescription: ["randomItem", "s.... 'we need em!"], resultPossitive:"You have the space dust!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure" ,"failure"], failureText:"bummer", problemAnswer:[["passivo: 'who cares!' blurts out captain ", "captainName"], "neutralo","aggressivo", "choose this one",""]},
    plotTwistTwo:{problemPicture: "allcrew.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"allShipAttribute"] ,problemDescription: ["The " ,"randomItem","! I must have it."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["choose this one", "neutralo","aggressivo","",""]},
    failure:{problemPicture: "shipexplosion.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"weaponAttribute"] ,problemDescription: ["Your ship has blown up."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["End game.","","","",""]},
    winner:{problemPicture: "shiptravel.jpg", problemAttribute: [50,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"firstMateAttribute"] ,problemDescription: ["Awesome!"], resultPossitive:"winner!", resultNegative:["resourceType", "combatType", "medicalType", "scienceType","respiteType"], problemAnswer:["We must find more resources, and soon...","Ensign, set our course for home. Warp 8.","We have too many injured crewmen... all staff report to sick bay!","Sensors show a sub-space rift forming? lay in a course, maybe we will get home sooner than we think.",["securityName",", find me a M-class planet where we can land for repairs."]]}
};

var scienceType = {problemTitle:["Ooooo! a flyiing rock..."],
    originPlot:{problemPicture: "alientrader.jpg", problemAttribute: [5, "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [20,"allShipAttribute"] ,problemDescription: ["randomName", " is an alien " , "randomJob" , " from the " , "randomRace" , " race.  He offers your crew the coordinates of a rare " , "randomItem", " which could greatly improve your ships warp speed.  However, he says he is only willing to negotiate with " , "firstMateName" , ". As captain your concerned about this alien's motivations and the considerable risk to your First-mate."], resultPass:"Your ship began to jump into warp just as the 'Trader' opened fire. Your shields took most of the brunt, but your got away with only minor additional damage.", resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "failure","nextEpisode", "nextEpisode"], failureText:"bummer", problemAnswer:[["My name IS !!!...", "captainName",".... -with a wry smile-"], "choose this one",["securityName",", arm the photons. This may be a gamble, but im guessing we can take that information by force!"],"Quick! Ensign lay in any heading and engage to warp 6. This 'Trader' is lying. He is looking to take our vessel by force!",""]},
    plotTwistOne:{problemPicture: "sickbayone.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"speedAttribute"] ,problemDescription: ["randomItem", "s.... 'we need em!"], resultPossitive:"You have the space dust!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure" ,"failure"], failureText:"bummer", problemAnswer:[["passivo: 'who cares!' blurts out captain ", "captainName"], "neutralo","aggressivo", "choose this one",""]},
    plotTwistTwo:{problemPicture: "allcrew.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"allShipAttribute"] ,problemDescription: ["The " ,"randomItem","! I must have it."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["choose this one", "neutralo","aggressivo","",""]},
    failure:{problemPicture: "shipexplosion.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"weaponAttribute"] ,problemDescription: ["Your ship has blown up."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["End game.","","","",""]},
    winner:{problemPicture: "shiptravel.jpg", problemAttribute: [50,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"firstMateAttribute"] ,problemDescription: ["Awesome!"], resultPossitive:"winner!", resultNegative:["resourceType", "combatType", "medicalType", "scienceType","respiteType"], problemAnswer:["We must find more resources, and soon...","Ensign, set our course for home. Warp 8.","We have too many injured crewmen... all staff report to sick bay!","Sensors show a sub-space rift forming? lay in a course, maybe we will get home sooner than we think.",["securityName",", find me a M-class planet where we can land for repairs."]]}
};

var respiteType = {problemTitle:["Repairs"],
    originPlot:{problemPicture: "alientrader.jpg", problemAttribute: [5, "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [20,"allShipAttribute"] ,problemDescription: ["randomName", " is an alien " , "randomJob" , " from the " , "randomRace" , " race.  He offers your crew the coordinates of a rare " , "randomItem", " which could greatly improve your ships warp speed.  However, he says he is only willing to negotiate with " , "firstMateName" , ". As captain your concerned about this alien's motivations and the considerable risk to your First-mate."], resultPass:"Your ship began to jump into warp just as the 'Trader' opened fire. Your shields took most of the brunt, but your got away with only minor additional damage.", resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "failure","nextEpisode", "nextEpisode"], failureText:"bummer", problemAnswer:[["My name IS !!!...", "captainName",".... -with a wry smile-"], "choose this one",["securityName",", arm the photons. This may be a gamble, but im guessing we can take that information by force!"],"Quick! Ensign lay in any heading and engage to warp 6. This 'Trader' is lying. He is looking to take our vessel by force!",""]},
    plotTwistOne:{problemPicture: "sickbayone.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"speedAttribute"] ,problemDescription: ["randomItem", "s.... 'we need em!"], resultPossitive:"You have the space dust!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure" ,"failure"], failureText:"bummer", problemAnswer:[["passivo: 'who cares!' blurts out captain ", "captainName"], "neutralo","aggressivo", "choose this one",""]},
    plotTwistTwo:{problemPicture: "allcrew.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"allShipAttribute"] ,problemDescription: ["The " ,"randomItem","! I must have it."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["choose this one", "neutralo","aggressivo","",""]},
    failure:{problemPicture: "shipexplosion.jpg", problemAttribute: [10,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"weaponAttribute"] ,problemDescription: ["Your ship has blown up."], resultPossitive:"You have the crystal!", resultNegative:["plotTwistOne", "plotTwistTwo", "plotTwistOne", "failure","failure"], failureText:"bummer", problemAnswer:["End game.","","","",""]},
    winner:{problemPicture: "shiptravel.jpg", problemAttribute: [50,"captainAttribute" , "firstMateAttribute", "securityAttribute", "medicalAttribute","chiefAttribute"] , immediateAttribute: [15,"firstMateAttribute"] ,problemDescription: ["Awesome!"], resultPossitive:"winner!", resultNegative:["resourceType", "combatType", "medicalType", "scienceType","respiteType"], problemAnswer:["We must find more resources, and soon...","Ensign, set our course for home. Warp 8.","We have too many injured crewmen... all staff report to sick bay!","Sensors show a sub-space rift forming? lay in a course, maybe we will get home sooner than we think.",["securityName",", find me a M-class planet where we can land for repairs."]]}
};

var totalObjectType = ["randomName" , "randomMadeObject" , "randomItem" , "randomJob","randomRace","shipName","captainName","firstMateName", "securityName","medicalName","chiefName"]; //this has to be manually set to reflect all the var objects below it.
var randomName =["Ardwin", "Batok", "Catarin" , "Dour-gin"];
var randomMadeObject =["spaceship", "spacestation" , "colony"];
var randomItem = ["crystal" ,"warp conduit"];
var randomJob = ["trader" , "janitor" ,"ambasidor"];
var randomRace = ["Panuk", "Hilaari", "Upchu"];

var shipName = "USS Treker";
var captainName = "Juneway"; console.log(captainName);
var firstMateName = "Cha'Te";
var securityName ="Tabuk";
var medicalName ="The Doctor";
var chiefName ="Be'Tor";

function setUserChoice(){
    shipName = document.getElementById("shipChoice").value;
    captainName = document.getElementById("captainChoice").value;
    firstMateName = document.getElementById("firstChoice").value;
    securityName = document.getElementById("securityChoice").value;
    medicalName = document.getElementById("medicalChoice").value;
    chiefName = document.getElementById("chiefChoice").value;
// speedAttribute = document.getElementById("speedChoice").value;
    saveLocal();
    console.log("captainName: " + captainName);
}
